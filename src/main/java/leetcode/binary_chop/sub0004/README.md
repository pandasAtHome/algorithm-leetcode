# 题目

- Java：[4]寻找两个正序数组的中位数
- Related Topics 数组 二分查找 分治 👍 5816 👎 0

```text
给定两个大小分别为 m 和 n 的正序（从小到大）数组 nums1 和 nums2。
  请你找出并返回这两个正序数组的 中位数 。 

算法的时间复杂度应该为 O(log (m+n)) 。 


示例 1： 

输入：nums1 = [1,3], nums2 = [2]
输出：2.00000
解释：合并数组 = [1,2,3] ，中位数 2


示例 2： 

输入：nums1 = [1,2], nums2 = [3,4]
输出：2.50000
解释：合并数组 = [1,2,3,4] ，中位数 (2 + 3) / 2 = 2.5


提示： 

nums1.length == m 
nums2.length == n 
0 <= m <= 1000 
0 <= n <= 1000 
1 <= m + n <= 2000 
-10⁶ <= nums1[i], nums2[i] <= 10⁶ 
```

# 读题

- 找出两个正序数组的中位数
- 中位数：
  - 从小到大排序，
    - 若 n为奇数，`中位数 = 中间的数值`
    - 若 n为偶数，`中位数 = 中间两个数值的平均值`

# 法一：二分查找

- 核心：分治 + 二分查找

## 思路

- 找出 `中位数` 的位置 `k`(在两个数组合并排序后的第几位，从1开始数)
- 为两个数组分别定义指针：`idx1` 和 `idx2`
  - 从左到右移动
- 假设两个指针每次移动 `k/2` 位，比较移动后的两个值
  - 最后移动较小者的指针
  - 同时使 `k` 减去已经移动的步数

## 实现

### 边界问题

- 退出条件： `k = 1` 只需比较当前指针对应的两个值，取较小者

### 细节问题

- 第一个数组的指针已经移到最后：直接获取 第二个数组中的值
- 第二个数组的指针已经移到最后：直接获取 第一个数组中的值

### [代码实现](Demo01.java)

### 复杂度

类型 | 复杂度 | 说明
:--- |:--- |:---
空间 | `O(1)` | `9 * O(1)` </br> - `O(1)` : 数值变量
时间 | `O(log (m + n))` | `10 * O(log (m + n))` </br> - `O(log (m + n))` : 1次二分查找条件 + 3次退出条件 + 1次取中值 + 2次新坐标计算 + 1次大小比较 + 1次指针移动 + 1次数字计数

### 总结

情况 | 空间复杂度 | 时间复杂度 | 说明
:--- |:--- |:--- |:---
最好 | `O(1)` | `O(1)` | nums1 or nums2 为空
其次 | `O(1)` | `O(log (m + n))` | m + n 为奇数
最差 | `O(1)` | `O(log (m + n))` | m + n 为偶数
