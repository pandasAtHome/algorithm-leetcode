# 题目

- Java：[37]解数独
- Related Topics 数组 回溯 矩阵 👍 1420 👎 0

```text
编写一个程序，通过填充空格来解决数独问题。 
数独的解法需 遵循如下规则： 
  数字 1-9 在每一行只能出现一次。 
  数字 1-9 在每一列只能出现一次。 
  数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。（请参考示例图） 

数独部分空格内已填入了数字，空白格用 '.' 表示。 


示例 1： 

输入：
board = [
  ["5", "3", ".", ".", "7", ".", ".", ".", "."], 
  ["6", ".", ".", "1", "9", "5", ".", ".", "."], 
  [".", "9", "8", ".", ".", ".", ".", "6", "."], 
  ["8", ".", ".", ".", "6", ".", ".", ".", "3"], 
  ["4", ".", ".", "8", ".", "3", ".", ".", "1"], 
  ["7", ".", ".", ".", "2", ".", ".", ".", "6"], 
  [".", "6", ".", ".", ".", ".", "2", "8", "."], 
  [".", ".", ".", "4", "1", "9", ".", ".", "5"], 
  [".", ".", ".", ".", "8", ".", ".", "7", "9"]
]
输出：[["5", "3", "4", "6", "7", "8", "9", "1", "2"], 
      ["6", "7", "2", "1", "9", "5", "3", "4", "8"], 
      ["1", "9", "8", "3", "4", "2", "5", "6", "7"], 
      ["8", "5", "9", "7", "6", "1", "4", "2", "3"], 
      ["4", "2", "6", "8", "5", "3", "7", "9", "1"], 
      ["7", "1", "3", "9", "2", "4", "8", "5", "6"], 
      ["9", "6", "1", "5", "3", "7", "2", "8", "4"], 
      ["2", "8", "7", "4", "1", "9", "6", "3", "5"], 
      ["3", "4", "5", "2", "8", "6", "1", "7", "9"]]
解释：输入的数独如上图所示，唯一有效的解决方案如下所示：


提示： 

board.length == 9 
board[i].length == 9 
board[i][j] 是一位数字或者 '.' 
题目数据 保证 输入数独仅有一个解 
```

# 读题

- 数字 1-9 在每一行只能出现一次。
- 数字 1-9 在每一列只能出现一次。
- 数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。

# 法一：回溯搜索

- 核心：深度优先搜索 + 回溯

## 思路

- 找出所有的固定数字
  - 记录【每行】已填写的数字
  - 记录【每列】已填写的数字
  - 记录【每个 3x3 格】已填写的数字
- 找出可以填写多个数字的节点
  - 只能填一个数字：记录 & 排除
  - 可以填多个数字：加入待处理队列
- 回溯
  - 已填写完毕，退出
  - 排除已填写的数字
  - 试探填写：固定数字 & 更新状态
  - 填写一下空格
  - 回溯

## 实现

### 边界问题

- 退出条件：`空节点数量查找完毕`

### 细节问题

- 排除仅可填写一个数字的空节点
- 一定会找到结果，所以`尝试`填写的数字可以不用复原为`'.'`

### [代码实现](Demo01.java)

### 复杂度

- `n`：矩阵边长
- `L`：待处理节点数量

类型 | 复杂度 | 说明
:--- |:--- |:---
空间 | `O(n * L)` | `O(n * L)` + `O(L)` </br> - `O(n * L)` : 递归栈空间 </br> - `O(L)` : 待处理节点
时间 | `O(n^2)` | `O(n^2)` + `O(n * L)` </br> - `O(n^2)` : 找出所有的固定数字 & 排除只能填写一个数字的节点 </br> - `O(n * L)` : 递归

### 总结

情况 | 空间复杂度 | 时间复杂度 | 说明
:--- |:--- |:--- |:---
最好 | `O(L)` | `O(n^2)` | 全部都是只需填写一个数字的节点
其次 | `O(n * L)` | `O(n^2)` | 存在部分只能填写一个数字的节点
其次 | `O(n * L)` | `O(n^2)` | 所有节点都可以填写多个数字
