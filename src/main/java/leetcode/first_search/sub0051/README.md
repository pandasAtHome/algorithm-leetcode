# 题目

- Java：[51]N 皇后
- Related Topics 数组 回溯 👍 1512 👎 0

```text
按照国际象棋的规则，
  皇后可以攻击与之处在
    同一行
    或同一列
    或同一斜线
  上的棋子。 

n 皇后问题 研究的是如何将 n 个皇后放置在 n×n 的棋盘上，
  并且使皇后彼此之间不能相互攻击。 

给你一个整数 n ，返回所有不同的 n 皇后问题 的解决方案。 

每一种解法包含一个不同的 n 皇后问题 的棋子放置方案，
  该方案中 'Q' 和 '.' 分别代表了皇后和空位。 


示例 1： 

输入：n = 4
输出：[[".Q..",
       "...Q",
       "Q...",
       "..Q."],
      ["..Q.",
       "Q...",
       "...Q",
       ".Q.."]]
解释：如上图所示，4 皇后问题存在两个不同的解法。


示例 2： 

输入：n = 1
输出：[["Q"]]


提示： 

1 <= n <= 9 
```

# 读题

# 法一：回溯法

- 核心：深度优先搜索 + 回溯 + 剪枝

## 思路

- 初始化每行的位置
- 定义一个列表，记录女皇在每行中，对应的站位（即对应的列）
- 定义一个列表，记录列的使用
- 定义一个列表，记录当前位置的左斜线上是否放置了女皇（右上-左下）
- 定义一个列表，记录当前位置的右斜线上是否放置了女皇（左上-右下）
- 回溯，穷举

## 实现

### 边界问题

- 已达到最后一行：`row == n`

### 细节问题

- 由于已经进行了剪枝，会跳过不合理的情况，所以可以不用重置每行女皇的站位（queen）

### [代码实现](Demo01.java)

### 复杂度

类型 | 复杂度 | 说明
:--- |:--- |:---
空间 | `O(n^2)` | `O(n^2)` + `O(2n)` + `O(n)` </br> - `O(n^2)` : 递归栈空间 </br> - `O(2n)` : 左右斜对角使用记录 </br> - `O(n)` : 列使用记录 & 女皇站位 & 每行位置
时间 | `O(n^2)` | `O(n^2)` </br> - 回溯搜索

### 总结

情况 | 空间复杂度 | 时间复杂度 | 说明
:--- |:--- |:--- |:---
最好 | `O(2n)` | `O(1)` | `n = 1`
最差 | `O(n^2)` | `O(n^2)` | 其他情况
