# 题目

- Java：[633]平方数之和
- Related Topics 数学 双指针 二分查找 👍 382 👎 0

```text
给定一个非负整数 c ，
  你要判断是否存在两个整数 a 和 b，
  使得 a² + b² = c 。 


示例 1： 

输入：c = 5
输出：true
解释：1 * 1 + 2 * 2 = 5


示例 2： 

输入：c = 3
输出：false


提示： 

0 <= c <= 2³¹ - 1 
```

# 读题

- 给出一个负整数c，判断是否存在 $a^2 + b^2 = c$

# 法一：双指针

- 核心：首尾指针

## 思路

- 求出 c 的开方值，并向下取整
- 定义一对首尾指针，向中间靠拢，寻找 `a` 和 `b`
  - $a^2 + b^2 > c$ , **右指针**向中心靠拢
  - $a^2 + b^2 < c$ , **左指针**向中心靠拢
  - $a^2 + b^2 = c$ , 获取到正确结果

## 实现

### 边界问题

- 退出条件：`left > right`

### 细节问题

- 对于 `0 <= c <= 2`，均存在 $a^2 + b^2 = c$
- $a^2 + b^2$ 可能超过 `int` 的取值范围，所以需要用 `long`
  - 可以在首尾指针初始化时，就把首尾指针设置为 `long` 类型

$$
0 \le \sqrt{c} \le 2^{\frac{31}{2}}
\\ => \\
0 \le a,b \le \sqrt{c}
\\ => \\
0 \le (a^2 + b^2) \le 2^{31}
$$

### [代码实现](Demo01.java)

### 复杂度

类型 | 复杂度 | 说明
:--- |:--- |:---
空间 | `O(1)` | `3 * O(1)` </br> - `O(1)` : 3个数值变量
时间 | `O(n)` | `O(n)` + `O(5n)` </br> - `O(n)` : 遍历取值范围 </br> - `O(5n)` : 计算、赋值、判断、移动指针

### 总结

情况 | 空间复杂度 | 时间复杂度 | 说明
:--- |:--- |:--- |:---
最好 | 无 | `O(1)` | 细节问题1
其次 | `O(1)` | `O(n)` | 寻找目标分布在首尾
最坏 | `O(1)` | `O(n)` | 寻找目标在中间 or 没有结果

# 法二：数学公式

- 核心：[费马平方和定理](/knowledge/math/number/费马平方和定理.md)

## 思路

## 实现

### 边界问题

### 细节问题

### [代码实现](Demo02.java)

### 复杂度

类型 | 复杂度 | 说明
:--- |:--- |:---
空间 | `O()` | `O()` + `O()` </br> - `O()`
时间 | `O()` | `O()` + `O()` </br> - `O()`

### 总结

情况 | 空间复杂度 | 时间复杂度 | 说明
:--- |:--- |:--- |:---
最好 |
